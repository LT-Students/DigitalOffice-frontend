<form [formGroup]="addLeaveForm" autocomplete="off" (ngSubmit)="onSubmit()" class="add-hours__form">
	<div class="add-hours__time-wrapper">
		<do-form-row label="Выберите диапазон отсутствия">
			<mat-form-field>
				<mat-date-range-input
					(click)="picker.open()"
					[min]="minDate"
					[dateFilter]="disableWeekends"
					[rangePicker]="$any(picker)"
				>
					<input matStartDate placeholder="ДД/ММ/ГГГГ" formControlName="startDate" />
					<input matEndDate placeholder="ДД/ММ/ГГГГ" formControlName="endDate" />
				</mat-date-range-input>
				<mat-datepicker-toggle matSuffix [for]="picker">
					<mat-icon matDatepickerToggleIcon>date_range</mat-icon>
				</mat-datepicker-toggle>
				<mat-date-range-picker #picker [dateClass]="dateClass" (closed)="onClose()"></mat-date-range-picker>
				<mat-error>{{
					addLeaveForm.controls['startDate'].errors || addLeaveForm.controls['endDate'].errors | controlErrors
				}}</mat-error>
			</mat-form-field>
		</do-form-row>
		<div class="add-hours__absence-time">
			<span class="text-secondary_default">Выбрано</span>
			<h3>{{ selectedIntervalDurationInHours$ | async }}<span class="text-secondary_default"> ч</span></h3>
		</div>
	</div>
	<do-form-row label="Тип отсутствия">
		<mat-form-field>
			<mat-select formControlName="leaveType" placeholder="Выберите тип отсутствия">
				<mat-option *ngFor="let leave of leaveTypes" [value]="leave.leaveType">
					{{ leave.leaveInRussian }}
				</mat-option>
			</mat-select>
			<mat-error>{{ addLeaveForm.controls['leaveType'].errors | controlErrors }}</mat-error>
		</mat-form-field>
	</do-form-row>
	<do-form-row label="Комментарий">
		<mat-form-field>
			<textarea
				#comment
				cdkTextareaAutosize
				cdkAutosizeMinRows="3"
				cdkAutosizeMaxRows="3"
				matInput
				formControlName="comment"
				maxlength="500"
				placeholder="Оставьте комментарий для менеджера"
			></textarea>
			<mat-hint>{{ comment.value.length }}/500</mat-hint>
		</mat-form-field>
	</do-form-row>
	<button mat-flat-button class="add-hours__absence-submit" color="primary" [loading]="loading$ | async">
		Добавить часы
	</button>
</form>
