<div class="project">
	<div class="project-header">
		<div>
			<h1 class="h1 text-dark_2">{{ projectInfo?.name }}</h1>
			<div class="project-header__splitter"></div>
			<p class="regular_text text-gray">{{ projectInfo?.department?.name }}</p>
		</div>
		<!--    <div class="project-header__menu">-->
		<!--      <button mat-stroked-button class="project-header__edit">-->
		<!--        <span class="regular_text text-light_1 project-header__span">-->
		<!--          Редактировать-->
		<!--        </span>-->
		<!--      </button>-->
		<!--      <button mat-flat-button class="project-header__more">-->
		<!--        <img src="assets/svg/more-horiz.svg" alt="NaN" />-->
		<!--      </button>-->
		<!--    </div>-->
	</div>
	<div class="project__content">
		<div>
			<div class="project-description">
				<h2 class="h4 text-dark_1 project-description__title">Детали проекта</h2>
				<div class="project-description__body">
					<div doText color="gray">
						<!--            <p>Заказчик</p>-->
						<p>Статус</p>
						<p>Запуск проекта</p>
						<p>Проект длится</p>
						<p>Команда</p>
					</div>
					<div doText color="dark_1">
						<!--              <p>{{ projectInfo?.shortName }}</p>-->
						<p>{{ projectInfo?.status }}</p>
						<p>{{ projectCreatedAt | date: 'd MMMM y' }}</p>
						<p>{{ projectDuration }} дней</p>
						<p>{{ projectUsers?.length }} участников</p>
					</div>
				</div>
			</div>
		</div>
		<div class="project-team">
			<h4 doText color="dark_1">Описание</h4>
			<p doText>{{ projectInfo?.description ? projectInfo?.description : '—' }}</p>
		</div>
	</div>
	<div class="table">
		<div class="table__header">
			<h3 doText underlined underlinedSize="sm">Команда</h3>
		</div>
		<table doText class="table__content" matSort>
			<tr>
				<th></th>
				<th mat-sort-header="name">Имя</th>
				<th mat-sort-header="department">Департамент</th>
				<th mat-sort-header="role">Роль</th>
				<th mat-sort-header="rate">Ставка</th>
				<th mat-sort-header="status">Статус</th>
			</tr>
			<tr class="table__row" *ngFor="let userInfo of $any(projectUsers)" routerLink="/user/{{ userInfo.id }}">
				<td><do-profile-image [image]='userInfo?.avatar'></do-profile-image></td>
				<td>{{ userInfo?.firstName }} {{ userInfo?.lastName }}</td>
				<td>{{ userInfo?.department.name ? userInfo.department.name : '—' }}</td>
				<td>{{ userInfo?.position.name ? userInfo.position.name : '—' }}</td>
				<td>{{ userInfo?.rate ? userInfo?.rate : '—' }}</td>
				<td>
					<p *ngIf='userInfo?.isActive;'>Активен</p>
					<p class='table__archived' doText color='light_1' *ngIf='!userInfo?.isActive;'>В архиве</p>
				</td>
			</tr>
		</table>
	</div>
</div>
