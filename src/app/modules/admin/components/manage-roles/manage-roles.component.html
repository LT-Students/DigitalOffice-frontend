<do-breadcrumbs
	[paths]="[{ title: 'Администрирование', url: 'admin/dashboard' }, { title: 'Управление ролями' }]"
></do-breadcrumbs>
<mat-card class="card card_standard">
	<div class="header">
		<h3 doUnderline underlinedSize="sm">Роли</h3>
		<button mat-flat-button color="accent" (click)="onAddRoleClick()">+ Создать роль</button>
	</div>
	<table *ngIf="totalCount > 0; else emptyList" class="table" matSort>
		<colgroup>
			<col class="column column_width_m" />
			<col class="column column_width_l" />
		</colgroup>
		<thead>
			<tr class="row">
				<th mat-sort-header="name" class="cell">
					<p>Название</p>
				</th>
				<th mat-sort-header="description" class="cell">
					<p>Описание</p>
				</th>
			</tr>
		</thead>
		<tbody>
			<tr *ngFor="let role of roles$ | async" class="row">
				<td class="cell">
					<p class="cell__content cell__content_ellipsissed">{{ role.localizations?.[0]?.name ?? '—' }}</p>
				</td>
				<td class="cell">
					<do-comment [text]="role.localizations?.[0]?.description"></do-comment>
				</td>
			</tr>
		</tbody>
	</table>
	<ng-template #emptyList>
		<do-empty-list [emptyMessage]="'Нет данных о ролях'"></do-empty-list>
	</ng-template>
	<mat-paginator
		[length]="totalCount"
		[pageSize]="pageSize"
		[pageSizeOptions]="[10, 25, 50]"
		(page)="onPageChange($event)"
	></mat-paginator>
</mat-card>
