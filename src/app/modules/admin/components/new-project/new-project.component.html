<a class="nav-link regular_text" routerLink="/admin/dashboard">
	<img src="assets/svg/vector-arrow-back.svg" alt="back" />
	К доске проектов
</a>

<h1 doText color="dark_2">Новый проект</h1>
<div class="card regular_text">
	<form class="project-info" [formGroup]="projectForm" (ngSubmit)="createProject()" autocomplete="off">
		<div class="project-info__section">
			<div class="section__title">
				<div class="section__title_left">
					<h3 doText color="dark_2" underlined underlinedSize="sm">Общая информация</h3>
				</div>
				<div class="section__title_right">
					<span class="project-info__title" doText color="negative_accent">* Обязательное поле</span>
				</div>
			</div>
			<div class="section__content section__content_general">
				<div class="project-info__name">
					<label class="project-info__label" for="name">Название проекта</label>
					<mat-form-field>
						<input matInput type="text" id="name" formControlName="name" />
					</mat-form-field>
				</div>
				<div class="project-info__department">
					<label class="project-info__label" for="department">Департамент</label>
					<mat-form-field class="mat-form-field_default-select" appearance="none">
						<mat-select id="department" formControlName="departmentId">
							<mat-option *ngFor="let department of departments" [value]="department.id">
								{{ department.name }}
							</mat-option>
						</mat-select>
					</mat-form-field>
				</div>
				<div class="project-info__customer">
					<label class="project-info__label" for="customer">Заказчик</label>
					<mat-form-field>
						<input matInput type="text" id="customer" formControlName="customer" />
					</mat-form-field>
				</div>
				<!--<div class='project-info__date'>
          <do-datepicker
              controlName="date"
              label="Дата запуска"
              format='full'
              [isEdit]='true'
          ></do-datepicker>
        </div>-->
				<div class="project-info__status">
					<label class="project-info__label" for="status">Статус</label>
					<mat-form-field class="mat-form-field_default-select" appearance="none">
						<mat-select id="status" formControlName="status">
							<mat-option *ngFor="let status of statuses" [value]="status">
								{{ status.name | titlecase }}
							</mat-option>
						</mat-select>
					</mat-form-field>
				</div>
				<div class="project-info__description">
					<label class="project-info__label" for="description">Описание</label>
					<mat-form-field appearance="none">
						<textarea
							matInput
							id="description"
							formControlName="description"
							placeholder="Краткое описание сути проекта на его публичной карточке"
						></textarea>
					</mat-form-field>
				</div>
			</div>
		</div>

		<div class="project-info__section">
			<div class="section__title">
				<div class="section__title_left">
					<h3 doText color="dark_2" underlined underlinedSize="sm">Участие</h3>
				</div>
			</div>
			<div class="section__content">
				<mat-checkbox class="checkbox">Включить меня в команду Product Менеджеров</mat-checkbox>
			</div>
		</div>

		<div class="project-info__section">
			<div class="section__title">
				<div class="section__title_left">
					<h3 doText color="dark_2" underlined underlinedSize="sm">Команда</h3>
					&nbsp;
					<h3 doText color="accent_color_bright">{{ totalMembersCount() }} человек</h3>
				</div>
<!--				<div class="section__title_right">-->
<!--					<button mat-flat-button color="primary" type="button" (click)="showProjectTeam()">Посмотреть всю команду</button>-->
<!--				</div>-->
			</div>
			<div class="section__content">
<!--				<do-team-card *ngFor="let team of teams" [teamCard]="team" [users]="teams"></do-team-card>-->
                <div class="user-row" *ngFor="let member of membersAll">
                    <div class="user-row__image">
                        <img [src]="member.profileImgSrc" width="48" height="48" alt="user image" />
                    </div>
                    <div class="user-row__general-info">
                        <div class="name">{{ member.firstName }} {{ member.lastName }}</div>
                        <div class="position" doText color="gray1">{{ member.positionInfo?.name }}</div>
                    </div>
                    <div>{{ member.departmentInfo?.name }}</div>
                    <div class="user-row__projects-count"><span doText color="gray1">1 проект</span></div>
<!--                    <div class="user-row__lead" *ngIf="data.mode">-->
<!--                        &lt;!&ndash; TODO: Сделать оотображение стилей кнопки для просмотра / редактирования&ndash;&gt;-->
<!--                        <span class="label_lead" [ngClass]="{ label_lead_l: !member.lead }" doText regularTextSize="small" (click)="assignLead(member)"-->
<!--                        >Лидер направления</span-->
<!--                        >-->
<!--                    </div>-->
                </div>
				<button mat-flat-button color="primary" type="button" (click)="onAddTeamClick()">Добавить сотрудников</button>
			</div>
		</div>

		<div class="project-info__actions">
			<button mat-stroked-button color="warn" class="border-accent_color_bright" (click)="saveDraft()">Отмена</button>
			<button mat-flat-button color="primary" (click)="createProject()">Создать проект</button>
		</div>
	</form>
</div>
